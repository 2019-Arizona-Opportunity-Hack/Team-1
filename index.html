<!DOCTYPE html>
<html lang="en">
	<head>
		<title>CAD Clothing</title>
		<meta charset="utf-8">
		<link rel="stylesheet" href="styles.css">
		<meta name="description" content="We sell cool clothes!">
		<link rel="icon" href="favicon.ico" type="image/x-icon"/>
		<script>
			var age;
			var address;
			var zipcode;
			var gender;
			var hasKids;
		
			function msgAll() {
				window.location = 'msgAll';
			}
			
			function msgCabsHotels() {
				window.location = 'msgCabsHotels';
			}
			
			function msgCabsMovers() {
				window.location = 'msgCabsMovers';
			}
			
			function msgHotelsMovers() {
				window.location = 'msgHotelsMovers';
			}
		
			function textCabs() {
				window.location = 'textCabs';
			}
			
			function emailHotels() {
				window.location = 'emailHotels';
			}
			
			function emailMovers() {
				window.location = 'emailMovers';
			}
			
			function textPolice() {
				window.location = 'textPolice';
			}
			
			function ageFunct() {
				age = document.getElementById('age').value;
				if(age < 1) {
				}else if(age < 18) {
					window.location = 'https://des.az.gov/services/child-and-family/child-care/contact-child-care-administration';
				}else{
					let infoForm = document.getElementById('infoPrompt');
					infoForm.removeAttribute("hidden");
					let ageForm = document.getElementById('agePrompt');
					ageForm.hidden = "true";
				}
			}
			
			function infoFunct() {
				var selectedGender;
				var selectedHasKids;
				var police;
			
				address = document.getElementById('address').value;
				zipcode = document.getElementById('zipcode').value;
				gender = document.getElementsByName('myGender');
				hasKids = document.getElementsByName('myKids');				
				
				for(var i = 0, length = gender.length; i < length; i++) {
					if(gender[i].checked) {
						selectedGender = gender[i].value;
					}
				}
				
				for(var i = 0, length = hasKids.length; i < length; i++) {
					if(hasKids[i].checked) {
						selectedHasKids = hasKids[i].value;
					}
				}
				
				//window.alert('address: ' + address	+ '\nzipcode: ' + zipcode + '\ngender: ' + selectedGender +'\nkids: ' + selectedHasKids);
				
				if(address && zipcode && selectedGender && selectedHasKids) {
					let policeForm = document.getElementById('policePrompt');
					policeForm.removeAttribute("hidden");
					let infoForm = document.getElementById('infoPrompt');
					infoForm.hidden = "true";
					
					/*const body = { a: 1 };
					
					fetch('address', {
							method: 'post',
							body:    JSON.stringify(body),
							headers: { 'Content-Type': 'application/json' },
						})
						.then(res => res.json())
						.then(json => console.log(json));*/
					
				}
			}
			
			function policeFunct() {
				let police = document.getElementsByName('myPolice');
				for(var i = 0, length = police.length; i < length; i++) {
					if(police[i].checked) {
						var gotPolice = police[i].value;
					}
				}
				
				if(gotPolice == 'Yes') {
					textPolice()
				} else if(gotPolice == 'No') {
					let shirtForm = document.getElementById('shirtPrompt');
					shirtForm.removeAttribute("hidden");
					let policeForm = document.getElementById('policePrompt');
					policeForm.hidden = "true";
				} else {
					window.alert('Please Select an Option!');
				}
			}
			
			function shirtFunct() {
				let services = document.getElementsByName('myService');
				
				if(services[0].checked && services[1].checked && services[2].checked) {
					msgAll();
				} else if(services[0].checked && services[1].checked) {
					msgCabsHotels();
				} else if(services[0].checked && services[2].checked) {
					msgCabsMovers();
				} else if(services[1].checked && services[2].checked) {
					msgHotelsMovers();
				} else if(services[0].checked) {
					textCabs();
				} else if(services[1].checked) {
					emailHotels();
				} else if(services[2].checked) {
					emailMovers();
				} else {
					window.alert('PLEASE SELECT SOMETHING');
				}
			}
		</script>
	</head>
	<body>
		<div id="wrapper">
			<header>
				<h1>CAD Clothing</h1>
			</header>
			
			<main>
				<!--input type="button" id="emailHotel" value="Email Hotel" onclick='emailHotels()'-->
			
				<form id="agePrompt" onsubmit="return false;">
					<img src="cadclothing.jpg" alt="cadclothing" id="cadclothing">
					<br>
					<label for="age"><span class="red">*</span>Age</label>
					<input type="text" name="myAge" id="age" required="required">
					
					<input type="button" id="ageSubmit" value="Submit" onclick='ageFunct()'>
				</form>
				
				<form hidden id="infoPrompt" onsubmit="return false;">
					<label for="address"><span class="red">*</span>Shipping Address</label>
					<input type="text" name="myAddress" id="address" required="required" placeholder="Number and Street Name">
					
					<label for="zipcode"><span class="red">*</span>Zipcode</label>
					<input type="text" name="myZipcode" id="zipcode" required="required" placeholder="XXXXX">
					
					<section id="genderButtons">
						<label for="genderButtons"><span class="red">*</span>Gender:</label>

						<label for="male">Male</label>
						<input type="radio" name="myGender" id="male" value="Male" required="required"/>
						
						<label for="female">Female</label>
						<input type="radio" name="myGender" id="female" value="Female"/>
						
						<label for="other">Other</label>
						<input type="radio" name="myGender" id="other" value="Other"/>
					</section>
					
					<label><span class="red">*</span>Do you have kids?</label>
					<label for="kidsYes">Yes</label>
					<input type="radio" name="myKids" id="kidsYes" value="Yes" required="required"/>
					
					<label for="kidsNo">No</label>
					<input type="radio" name="myKids" id="kidsNo" value="No"/>
						
					<br>
					<input type="submit" id="infoSubmit" value="Submit" onclick="infoFunct()">
				</form>
				
				<form hidden id="policePrompt" onsubmit="return false;">
					<img src="police.png" alt="police shirt" id="policeShirt">
					<br>
					<section id="policeButtons">
						<label for="policeButtons"><span class="red">*</span>Would You Like This Complimentary Tshirt Shipped to Your Address?</label>
						<p class="red">Warning! Order CANNOT be canceled!</p>
						
						<label for="policeYes">Yes</label>
						<input type="radio" name="myPolice" id="policeYes" value="Yes" required="required"/>
						
						<label for="policeNo">No</label>
						<input type="radio" name="myPolice" id="policeNo" value="No"/>
					</section>
					<br>
					
					<input type="submit" id="policeSubmit" value="Submit" onclick="policeFunct()">
					
				</form>
				
				<form hidden id="shirtPrompt" onsubmit="return false;">
					<section id="serviceButtons">
						<label for="serviceButtons"><span class="red">*</span>Services:</label>
						<br>
						<img src="taxi.png" label for="cab" alt="cab" id="cabShirt">
						<img src="grandma.png" label for="grandma" alt="grandma" id="grandmaShirt">
						<br>
						<input type="checkbox" name="myService" id="cab" onclick="$(this).val(this.checked ? 1 : 0)"/>
						
						<br>
						<img src="hotel.png" label for="hotel" alt="hotel" id="hotelShirt">
						<img src="cat.png" label for="cat" alt="cat" id="catShirt">
						<br>
						<input type="checkbox" name="myService" id="hotel" value="1"/>
						
						<br>
						<img src="mover.png" label for="mover" alt="mover" id="moverShirt">
						<img src="alien.png" label for="alien" alt="alien" id="alienShirt">
						<br>
						<input type="checkbox" name="myService" id="mover" value="1"/>
					</section>
					
					<input type="submit" id="shirtSubmit" value="Submit" onclick="shirtFunct()">
				</form>
			</main>
			<br>
			
			<footer>
				CAD Clothing &copy;2019
			</footer>
		</div>
	</body>
</html>